<div class="mb-4">
  <label [for]="label" class="block text-sm font-medium text-gray-700 mb-1">{{
    label
  }}</label>

  <ng-container [ngSwitch]="type">
    <textarea
      *ngSwitchCase="'textarea'"
      [formControl]="control"
      [id]="label"
      [placeholder]="placeholder"
      [rows]="rows"
      class="mt-1 block w-full rounded-md border border-gray-300 p-2 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
      [ngClass]="{
        'border-red-500': control.invalid && (control.dirty || control.touched)
      }"
    >
    </textarea>

    <input
      *ngSwitchDefault
      [type]="type"
      [formControl]="control"
      [id]="label"
      [placeholder]="placeholder"
      class="mt-1 block w-full rounded-md border border-gray-300 p-2 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
      [ngClass]="{
        'border-red-500': control.invalid && (control.dirty || control.touched)
      }"
    />
  </ng-container>

  <div
    *ngIf="control.invalid && (control.dirty || control.touched)"
    class="text-red-500 text-sm mt-1"
  >
    <p *ngIf="control.errors?.['required']">required field.</p>
    <p *ngIf="control.errors?.['email']">Please enter a valid email address.</p>
    <p *ngIf="control.errors?.['minlength']">
      {{ label }} must be at least
      {{ control.errors?.['minlength'].requiredLength }} characters.
    </p>
    <p *ngIf="control.errors?.['pattern']">
      Please enter a valid {{ label.toLowerCase() }}.
    </p>
    <p *ngIf="control.errors?.['min']">
      {{ label }} must be at least {{ control.errors?.['min'].min }}.
    </p>
    <p *ngIf="control.errors?.['max']">
      {{ label }} must be at most {{ control.errors?.['max'].max }}.
    </p>
  </div>
</div>
